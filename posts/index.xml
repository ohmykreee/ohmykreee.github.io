<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>Posts on A Kreee&#39;s Server</title>
		<link>https://www.ohmykreee.tk/posts/</link>
		<description>Recent content in Posts on A Kreee&#39;s Server</description>
		<generator>Hugo -- gohugo.io</generator>
		<language>zh-cn</language>
		<lastBuildDate>Wed, 13 Jan 2021 22:58:38 +0800</lastBuildDate>
		<atom:link href="https://www.ohmykreee.tk/posts/index.xml" rel="self" type="application/rss+xml" />
		
		<item>
			<title>Notes for Setting Up Back-end Server</title>
			<link>https://www.ohmykreee.tk/posts/notes-for-setting-up-backend-server/</link>
			<pubDate>Wed, 13 Jan 2021 22:58:38 +0800</pubDate>
			
			<guid>https://www.ohmykreee.tk/posts/notes-for-setting-up-backend-server/</guid>
			<description>Install CentOS OS: CentOS 7 Minimal
Summary:
 Date &amp;amp; Time: Shanghai Network &amp;amp; Hostname: hostname to kserver.localdomain
If you want to change hostname later, use:  hostnamectl set-hostname AnythingYouLike.localdomain When installing:
 Set a root password   First run &amp;amp; install some software yum -y update yum -y install vim yum -y install net-tools yum -y install git yum -y install unzip  Set up OpenSSH vim /etc/ssh/sshd_config Remove # in the following line:</description>
			<content type="html"><![CDATA[<hr>
<h1 id="install-centos">Install CentOS</h1>
<p>OS: CentOS 7 Minimal</p>
<p>Summary:</p>
<ol>
<li>Date &amp; Time: Shanghai</li>
<li>Network &amp; Hostname: hostname to <code>kserver.localdomain</code><br>
If you want to change hostname later, use:</li>
</ol>
<pre><code>hostnamectl set-hostname AnythingYouLike.localdomain
</code></pre><p>When installing:</p>
<ol>
<li>Set a root password</li>
</ol>
<hr>
<h1 id="first-run--install-some-software">First run &amp; install some software</h1>
<pre><code>yum -y update
yum -y install vim
yum -y install net-tools
yum -y install git
yum -y install unzip
</code></pre><hr>
<h1 id="set-up-openssh">Set up OpenSSH</h1>
<pre><code>vim /etc/ssh/sshd_config
</code></pre><p>Remove <code>#</code> in the following line:</p>
<pre><code>Port 22
ListenAddress 0.0.0.0
ListenAddress ::
PermitRootLogin yes
</code></pre><p>Start and auto-run the SSH service.</p>
<pre><code>systemctl enable sshd.service
systemctl start sshd.service
</code></pre><p>View the local address:</p>
<pre><code>ifconfig -a
</code></pre><hr>
<h1 id="set-up-ap--soft-router">Set up AP &amp; soft router</h1>
<pre><code>ref: https://www.osradar.com/building-your-own-wireless-access-point-on-top-of-centos7/
</code></pre><p>Install the wireless-tools and hostapd.</p>
<pre><code>yum -y install iw
yum -y install epel-release
yum -y install hostapd
</code></pre><p>Config hostapd.</p>
<pre><code>vim /etc/hostapd/hostapd.conf
</code></pre><p>Edit the conf file.</p>
<pre><code>interface=wlp7s0
hw_mode=g
channel=6
ssid=K_server
utf8_ssid=1
country_code=CN
bridge=br-AP
</code></pre><p>Remove the <code>#</code> in the following lines:</p>
<pre><code>wpa=3
wpa_key_mgmt=WPA-PSK
wpa_pairwise=TKIP
rsn_pairwise=CCMP
wpa_passphrase=YouPassHere
</code></pre><p>Start and auto-run the hostapd</p>
<pre><code>systemctl start hostapd.service
systemctl enable hostapd.service
</code></pre><p>Change zones.</p>
<pre><code>firewall-cmd --permanent -zone=external --change-interface=enp1s0
firewall-cmd --permanent -zone=internal --change-interface=???
firewall-cmd --zone=external --add-masquerade --permanent
firewall-cmd --set-default-zone=internal
firewall-cmd --zone=internal --add-service=dns --permanent
firewall-cmd --complete-reload
</code></pre><p>Set up bridge.</p>
<pre><code>nmcli con add con-name br-AP type bridge ifname br-AP autoconnect yes stp no ip4 192.168.6.1/24
</code></pre><p>Set up dhcp.</p>
<pre><code>yum install -y dhcp
vim /etc/dhcp/dhcpd.conf
</code></pre><p>Edit the conf file.</p>
<pre><code>subnet 192.168.6.0 netmask 255.255.255.0 {
	range dynamic-bootp 192.168.6.200 192.168.6.250;
	option broadcast-address 192.168.6.255;
	option domain-name-server 223.5.5.5, 223.6.6.6;
	option routers 192.168.6.1;
}
</code></pre><p>Start and auto-run the dhcp</p>
<pre><code>systemctl start dhcpd
systemctl enable dhcpd
</code></pre><p>Post-setup: make it more stable.</p>
<pre><code>yum -y install haveged
systemctl start havaged
systemctl enable havaged
</code></pre><hr>
<h1 id="set-up-web-vmstats">Set up web-vmstats</h1>
<pre><code>cd /usr/local/
mkdir websocketd
git clone https://github.com/joewalnes/web-vmstats
</code></pre><p>Copy <code>websocketd.zip</code> to the folder <code>/usr/local/websocketd/</code> and unzip it:</p>
<pre><code>unzip websocketd.zip
</code></pre><p>Then create <code>webvmstats.service</code>.</p>
<pre><code>vim /etc/systemd/system/webvmstats.service
</code></pre><p>Add the following content to the file:</p>
<pre><code>[Unit]
Description=Web-vmstats

[Service]
ExecStart=/usr/local/websocketd/websocketd --port=8000 --staticdir=/usr/local/web-vmstats/web/ /usr/bin/vmstat -n 1

[Install]
WantedBy=multi-user.target
</code></pre><p>Reload, enable and start.</p>
<pre><code>systemctl daemon-reload
systemctl start webvmstats.service
systemctl enable webvmstats.service
</code></pre><p>Add port <code>8000</code> to the firewall.</p>
<pre><code>firewall-cmd --add-port=8000/tcp --zone=external --permanent
firewall-cmd --add-port=8000/tcp --zone=internal --permanent
</code></pre><p>View status:</p>
<pre><code>systemctl status webvmstats.service -l
</code></pre><p>Or:</p>
<pre><code>journalctl -u webvmstats
</code></pre><hr>
<h1 id="set-up-zerotier">Set up Zerotier</h1>
<p>Use the script to install Zerotier:</p>
<pre><code>curl -s https://install.zerotier.com | sudo bash
</code></pre><p>Join network:</p>
<pre><code>zerotier-cli join XXXXXXX
</code></pre><p>Start and auto-run ZeroTier.</p>
<pre><code>systemctl start zerotier-one.service
systemctl enable zerotier-one.service
</code></pre><hr>
<h1 id="set-up-frp">Set up FRP</h1>
<pre><code>mkdir /usr/local/frp
</code></pre><p>copy the frp.zip to the new folder. Then unzip it.</p>
<p>Edit the <code>frpc.ini</code> in the client-side. (Stupid error in [ftp]?)</p>
<pre><code>[common]
server_addr = ?.?.?.?
server_port = 7000
pool_count = 2
authenticate_new_work_conns = true
authentication_method = token
token = balabalabalabalabalabala

[minecraft01]
type = tcp
local_ip = 127.0.0.1
local_port = 25565
remote_port = 25565

[minecraft02]
type = udp
local_ip = 127.0.0.1
local_port = 25565
remote_port = 25565

[murmur01]
type = tcp
local_ip = 127.0.0.1
local_port = 64738
remote_port = 64738

[murmur02]
type = udp
local_ip = 127.0.0.1
local_port = 64738
remote_port = 64738

[ftp01]
type = tcp
local_ip = 127.0.0.1
local_port = 20
remote_port = 20

[ftp02]
type = tcp
local_ip = 127.0.0.1
local_port = 21
remote_port = 21

[webvmstat]
type = tcp
local_ip = 127.0.0.1
local_port = 8000
remote_port = 8000
</code></pre><p>Copy origin <code>.service</code> file and edit it.</p>
<pre><code>cp /usr/local/frp/systemd/frpc.service /etc/systemd/system/
vim /etc/systemd/system/frpc.service
</code></pre><p><del>User=nobody</del></p>
<p>On the server-side, edit the <code>frps.ini</code>.</p>
<pre><code>[common]
bind_addr = 0.0.0.0
bind_port = 7000
dashboard_addr = 0.0.0.0
dashboard_port = 7500
authentication_method = token
authenticate_new_work_conns = true
token = balabalabalabalabalabala
dashboard_user = admin
dashboard_pwd = admin
</code></pre><p>Give permission:</p>
<pre><code>chmod -R 700 /usr/local/frp/
</code></pre><hr>
<h1 id="set-up-mumble-server">Set up mumble server</h1>
<pre><code>ref: https://wiki.mumble.info/wiki/Install_CentOS7
</code></pre><hr>
<h1 id="set-up-minecraft-server">Set up Minecraft server</h1>
<p>Install java:</p>
<pre><code>yum install -y java-latest-openjdk.x86_64
</code></pre><p>Upload the server.zip to the <code>/usr/local/mc_1_16_4</code></p>
<pre><code>mkdir /opt/mc_1_16_4
unzip server.zip
</code></pre><p>Create user:</p>
<pre><code>groupadd -r minecraft
useradd -r -g minecraft -m -d /var/lib/minecraft -s /sbin/nologin minecraft
chown -R minecraft:minecraft /usr/local/mc_1_16_4
chmod -R 0770 /usr/local/mc_1_16_4
</code></pre><p>Create <code>mcserver.service</code> by <code>vim /etc/systemd/system/mcserver.service</code></p>
<pre><code>[Unit]
Description=Minecraft Server
After=network-online.target
Wants=network-online.target

[Service]
User=minecraft
ExecStartPre=/bin/sleep 10
ExecStart=/usr/bin/java -jar /usr/local/mc_1_16_4/fabric-server-launch.jar nogui
WorkingDirectory=/usr/local/mc_1_16_4/

[Install]
WantedBy=multi-user.target
</code></pre><p>Add port:</p>
<pre><code>vim /etc/firewalld/services/minecraft.xml
</code></pre><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;service&gt;
        &lt;short&gt;Minecraft&lt;/short&gt;
        &lt;description&gt;Minecraft Server&lt;/description&gt;
        &lt;port protocol=&quot;tcp&quot; port=&quot;25565&quot; /&gt;
        &lt;port protocol=&quot;udp&quot; port=&quot;25565&quot; /&gt;
&lt;/service&gt;
</code></pre><pre><code>vim /etc/firewalld/services/rcon.xml
</code></pre><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;service&gt;
        &lt;short&gt;RCON&lt;/short&gt;
        &lt;description&gt;Minecraft RCON&lt;/description&gt;
        &lt;port protocol=&quot;tcp&quot; port=&quot;25577&quot; /&gt;
        &lt;port protocol=&quot;udp&quot; port=&quot;25577&quot; /&gt;
&lt;/service&gt;
</code></pre><pre><code>firewall-cmd --permanent --add-service=minecraft --zone=internal
firewall-cmd --permanent --add-service=minecraft --zone=external
firewall-cmd --permanent --add-service=rcon --zone=internal
firewall-cmd --complete-reload
</code></pre><hr>
<h1 id="set-up-ftp">Set up FTP</h1>
<p>Install the ftp-daemon</p>
<pre><code>yum -y install vsftpd
</code></pre><p>Edit the conf file:</p>
<pre><code>vim /etc/vsftpd/vsftpd.conf
</code></pre><pre><code>local_enable=NO
listen=YES
</code></pre><p>Open port.</p>
<pre><code>firewall-cmd --permanent --add-service=ftp --zone=internal
firewall-cmd --permanent --add-service=ftp --zone=external
</code></pre><p>Start and auto-run the service.</p>
<pre><code>systemctl start vsftpd
systemctl enable vsftpd
</code></pre>]]></content>
		</item>
		
		<item>
			<title>如何使用FTP服务</title>
			<link>https://www.ohmykreee.tk/posts/how-to-ues-ftp/</link>
			<pubDate>Mon, 04 Jan 2021 21:49:54 +0800</pubDate>
			
			<guid>https://www.ohmykreee.tk/posts/how-to-ues-ftp/</guid>
			<description>目录 在电脑上使用 在手机上使用 在电脑上使用 有两种方式： 直接在系统文件管理器处输入 ftp://IP地址或者域名 在浏览器中直接输入： ftp://用</description>
			<content type="html"><![CDATA[<hr>
<h1 id="目录">目录</h1>
<ul>
<li><a href="#%E5%9C%A8%E7%94%B5%E8%84%91%E4%B8%8A%E4%BD%BF%E7%94%A8">在电脑上使用</a></li>
<li><a href="#%E5%9C%A8%E6%89%8B%E6%9C%BA%E4%B8%8A%E4%BD%BF%E7%94%A8">在手机上使用</a></li>
</ul>
<hr>
<h1 id="在电脑上使用">在电脑上使用</h1>
<p>有两种方式：</p>
<ol>
<li>直接在系统文件管理器处输入 ftp://<code>IP地址或者域名</code></li>
</ol>
<p><img src="/images/how-to-use-ftp-01.jpg" alt=""></p>
<ol start="2">
<li>在浏览器中直接输入： ftp://<code>用户名，默认Anonymous</code>:<code>密码，默认留空</code>@<code>IP地址或者域名</code>:<code>端口，默认21</code>/ 。例如 <code>ftp://Anonymous:@ct4.ohmykreee.tk:21/</code></li>
</ol>
<hr>
<h1 id="在手机上使用">在手机上使用</h1>
<ol>
<li>安装一个好用的 FTP 应用。</li>
<li>直接在浏览器器中输入：ftp://<code>用户名，默认Anonymous</code>:<code>密码，默认留空</code>@<code>IP地址或者域名</code>:<code>端口，默认21</code>/ 。是否成功视所用浏览器是否支持 FTP 协议。</li>
</ol>
]]></content>
		</item>
		
		<item>
			<title>如何下载并安装Mumble</title>
			<link>https://www.ohmykreee.tk/posts/how-to-install-mumble/</link>
			<pubDate>Mon, 04 Jan 2021 09:55:15 +0800</pubDate>
			
			<guid>https://www.ohmykreee.tk/posts/how-to-install-mumble/</guid>
			<description>目录 安装到电脑 安装到手机 安装到电脑 点击 此处 前往下载页面。 在截图中红框内可选择对应操作系统，并下载安装包。 以下演示内容系统为 Windows 10 x64， Mumble 版本</description>
			<content type="html"><![CDATA[<hr>
<h1 id="目录">目录</h1>
<ul>
<li><a href="#%E5%AE%89%E8%A3%85%E5%88%B0%E7%94%B5%E8%84%91">安装到电脑</a></li>
<li><a href="#%E5%AE%89%E8%A3%85%E5%88%B0%E6%89%8B%E6%9C%BA">安装到手机</a></li>
</ul>
<hr>
<h1 id="安装到电脑">安装到电脑</h1>
<p>点击 <a href="https://www.mumble.info/downloads/">此处</a> 前往下载页面。</p>
<p><img src="/images/how-to-install-mumble-01.jpg" alt=""></p>
<p>在截图中红框内可选择对应操作系统，并下载安装包。<br>
以下演示内容系统为 Windows 10 x64， Mumble 版本 1.3.3 。</p>
<p>使用默认设置安装即可。</p>
<p><img src="/images/how-to-install-mumble-02.jpg" alt=""></p>
<p>首次启动可能会进行音频设置向导，请根据指示操作，或关闭窗口以跳过。</p>
<p><img src="/images/how-to-install-mumble-03.jpg" alt=""></p>
<p>点击红框处打开服务器列表。</p>
<p><img src="/images/how-to-install-mumble-04.jpg" alt=""></p>
<p>点击“添加”添加服务器。</p>
<p><img src="/images/how-to-install-mumble-05.jpg" alt=""></p>
<p>填写服务器地址（请参考 <a href="/faq/#%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E8%87%B3%E6%9C%8D%E5%8A%A1%E5%99%A8">FAQ/如何连接至服务器</a> ）、用户名等信息。点击 OK 。</p>
<p><img src="/images/how-to-install-mumble-06.jpg" alt=""></p>
<p>双击刚刚创建的服务器，进入服务器。</p>
<p><img src="/images/how-to-install-mumble-07.jpg" alt=""></p>
<hr>
<h1 id="安装到手机">安装到手机</h1>
<p>苹果系统请在 App Store 搜索 Mumble，并安装。<br>
安卓系统点击 <a href="https://f-droid.org/packages/se.lublin.mumla/">此处</a> 前往下载页面。<br>
以下演示内容系统为安卓。</p>
<p>滚动页面至较下部，找到红框所框下载处（请确保所下版本为最新版）。</p>
<p><img src="/images/how-to-install-mumble-08.jpg" alt=""></p>
<p>安装应用。首次打开请按照指示生成证书（用于确保用户唯一性）。</p>
<p><img src="/images/how-to-install-mumble-09.jpg" alt=""></p>
<p>点击右上角的加号，添加服务器。</p>
<p><img src="/images/how-to-install-mumble-10.jpg" alt=""></p>
<p>填写服务器地址（请参考 <a href="/faq/#%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E8%87%B3%E6%9C%8D%E5%8A%A1%E5%99%A8">FAQ/如何连接至服务器</a> ）、用户名等信息。点击“添加”。</p>
<p><img src="/images/how-to-install-mumble-11.jpg" alt=""></p>
<p>打开刚刚创建的服务器，进入服务器。</p>
]]></content>
		</item>
		
		<item>
			<title>进阶使用服务</title>
			<link>https://www.ohmykreee.tk/posts/advanced-connect/</link>
			<pubDate>Sun, 03 Jan 2021 22:39:28 +0800</pubDate>
			
			<guid>https://www.ohmykreee.tk/posts/advanced-connect/</guid>
			<description>由于众所周知的原因，服主并不推荐各位使用该网页提供的在线服务使用服务器所提供的服务，而是强烈推荐自行准备相应客户端并访问相应服务。 关于如何下</description>
			<content type="html"><![CDATA[<p>由于众所周知的原因，服主并不推荐各位使用该网页提供的在线服务使用服务器所提供的服务，而是强烈推荐自行准备相应客户端并访问相应服务。</p>
<p>关于如何下载并安装Mumble客户端，请参考文章： <a href="/posts/how-to-install-mumble">如何下载并安装Mumble</a><br>
关于如何使用客户端访问FTP，请参考文章： <a href="/posts/how-to-use-ftp">如何使用FTP服务</a></p>
<p>访问服务的地址/IP地址可在 <a href="/faq/#%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E8%87%B3%E6%9C%8D%E5%8A%A1%E5%99%A8">FAQ/如何连接至服务器</a> 部分获得。<br>
Mumble 默认端口： <code>64738</code><br>
FTP 默认端口： <code>21</code><br>
服务器 Dashboard 默认端口： <code>8000</code><br>
Minecraft 默认端口： <code>25565</code></p>
]]></content>
		</item>
		
		<item>
			<title>如何下载并使用ZeroTier</title>
			<link>https://www.ohmykreee.tk/posts/how-to-use-zerotier/</link>
			<pubDate>Sat, 02 Jan 2021 18:29:46 +0800</pubDate>
			
			<guid>https://www.ohmykreee.tk/posts/how-to-use-zerotier/</guid>
			<description>目录 安装到电脑 安装到手机 安装到电脑 点击 此处 前往下载页面并下载相应系统安装包。 以下演示内容系统为 Windows 10 x64， ZeroTier 版本 1.6.2 。 直接开始安装即可。 启动 Zerotier</description>
			<content type="html"><![CDATA[<hr>
<h1 id="目录">目录</h1>
<ul>
<li><a href="#%E5%AE%89%E8%A3%85%E5%88%B0%E7%94%B5%E8%84%91">安装到电脑</a></li>
<li><a href="#%E5%AE%89%E8%A3%85%E5%88%B0%E6%89%8B%E6%9C%BA">安装到手机</a></li>
</ul>
<hr>
<h1 id="安装到电脑">安装到电脑</h1>
<p>点击 <a href="https://www.zerotier.com/download/">此处</a> 前往下载页面并下载相应系统安装包。</p>
<p><img src="/images/how-to-use-zerotier-01.jpg" alt=""></p>
<p>以下演示内容系统为 Windows 10 x64， ZeroTier 版本 1.6.2 。<br>
直接开始安装即可。</p>
<p><img src="/images/how-to-use-zerotier-02.jpg" alt=""></p>
<p>启动 Zerotier ，在系统托盘处找到ZeroTier，右键选择 &ldquo;Join Network&rdquo;。</p>
<p><img src="/images/how-to-use-zerotier-03.jpg" alt=""></p>
<p>输入在 <a href="/faq/#%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E8%87%B3%E6%9C%8D%E5%8A%A1%E5%99%A8">FAQ/如何连接至服务器</a> ZeroTier部分显示的连接码，并确定。</p>
<p><img src="/images/how-to-use-zerotier-04.jpg" alt=""></p>
<p>使用特定 IP 地址访问服务器。IP 地址可在 <a href="/faq/#%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E8%87%B3%E6%9C%8D%E5%8A%A1%E5%99%A8">FAQ/如何连接至服务器</a> ZeroTier 部分找到</p>
<hr>
<h1 id="安装到手机">安装到手机</h1>
<p>安卓系统可在 FTP 文件分享中找到安装包（可能非最新版）；<br>
苹果手机请在 AppStore 安装 ZeroTier。<br>
以下演示内容系统为安卓，应用版本 1.6.2-2 。</p>
<p>点击右上角 ➕ 键。</p>
<p><img src="/images/how-to-use-zerotier-05.jpg" alt=""></p>
<p>输入在 <a href="/faq/#%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E8%87%B3%E6%9C%8D%E5%8A%A1%E5%99%A8">FAQ/如何连接至服务器</a> ZeroTier部分显示的连接码，并点击最下方的 “Add Network&quot; 按钮。</p>
<p><img src="/images/how-to-use-zerotier-06.jpg" alt=""></p>
<p>使用特定 IP 地址访问服务器。IP 地址可在 <a href="/faq/#%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E8%87%B3%E6%9C%8D%E5%8A%A1%E5%99%A8">FAQ/如何连接至服务器</a> ZeroTier 部分找到</p>
]]></content>
		</item>
		
		<item>
			<title>Hello World</title>
			<link>https://www.ohmykreee.tk/posts/hello-world/</link>
			<pubDate>Sat, 02 Jan 2021 18:18:19 +0800</pubDate>
			
			<guid>https://www.ohmykreee.tk/posts/hello-world/</guid>
			<description>Hello world my friends!
Prepare to enter a new dimension!</description>
			<content type="html"><![CDATA[<p>Hello world my friends!<br>
Prepare to enter a new dimension!</p>
]]></content>
		</item>
		
	</channel>
</rss>
